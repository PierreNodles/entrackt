$(function(){function a(){this.date={},this.markup={},this.date.today=new Date,this.date.today=new Date(this.date.today.getUTCDate(),this.date.today.getUTCMonth(),this.date.today.getUTCFullYear()),this.date.browse=new Date,this.markup.row="row",this.markup.cell="cell",this.markup.inactive="g",this.markup.currentMonth="mn",this.markup.slctd="slctd",this.markup.today="today",this.markup.dayArea="dayArea",this.elementTag="calendar",this.targetInput="#hbdsdf",this.init=!1,this.buildDOM(),this.selectDate(this.date.today.getDate(),this.date.today.getMonth(),this.date.today.getFullYear()),this.constructDayArea(),this.updateInput("Date de naissance","",""),t=this,$(document).ready(function(){$(document).click(function(a){e=$("."+t.elementTag+" .view"),eco=e.offset(),(a.pageX<eco.left||a.pageX>eco.left+e.width()||a.pageY<eco.top||a.pageY>eco.top+e.height())&&(t.init||t.hide(300))}),$("."+t.elementTag).on("click",".next-month",function(){t.setMonthNext()}),$("."+t.elementTag).on("click",".prev-month",function(){t.setMonthPrev()}),$("."+t.elementTag).on("click",".next-year",function(){t.setYearNext()}),$("."+t.elementTag).on("click",".prev-year",function(){t.setYearPrev()}),$("."+t.elementTag).on("click",".jump-to-next-month",function(){t.setMonthNext()}),$("."+t.elementTag).on("click",".jump-to-previous-month",function(){t.setMonthPrev()}),$("."+t.elementTag).on("click","."+t.markup.currentMonth,function(){d=t.selectDate(t.date.browse.getUTCFullYear(),t.date.browse.getUTCMonth(),$(this).html()),t.hide(300)}),$("."+t.elementTag).on("click",".title",function(){t.date.browse=new Date(t.date.today.getTime()),t.constructDayArea(!1)}),$(t.targetInput).focus(function(){t.show(100),$(this).blur()})})}var s=$("nav.navbar.navbar-expand-lg.navbar-light.bg-light");$(window).width()>991&&0===$(window).scrollTop()?s.css({margin:"3rem 3rem 0 3rem"}):$(window).width()>991&&0!==$(window).scrollTop()?s.css({margin:0}):s.css({margin:"3rem 3rem 0 3rem"}),$(window).resize(function(){$(window).width()>991&&0===$(window).scrollTop()?s.css({margin:"3rem 3rem 0 3rem"}):$(window).width()>991&&0!==$(window).scrollTop()?s.css({margin:0}):s.css({margin:"3rem 3rem 0 3rem"})}),$(window).scroll(function(){$(window).width()>991&&0===$(window).scrollTop()?s.css({margin:"3rem 3rem 0 3rem"}):$(window).width()>991&&0!==$(window).scrollTop()?s.css({margin:0}):s.css({margin:"3rem 3rem 0 3rem"})}),$(".form").find("input, textarea").on("keyup blur focus",function(t){var e=$(this),a=e.prev("label");"keyup"===t.type?""===e.val()?a.removeClass("active highlight"):a.addClass("active highlight"):"blur"===t.type?""===e.val()?a.removeClass("active highlight"):a.removeClass("highlight"):"focus"===t.type&&(""===e.val()?a.removeClass("highlight"):""!==e.val()&&a.addClass("highlight"))}),$(".tab a").on("click",function(t){t.preventDefault(),$(this).parent().addClass("active"),$(this).parent().siblings().removeClass("active"),target=$(this).attr("href"),$(".tab-content > div").not(target).hide(),$(target).fadeIn(600)}),$("#login_form").submit(function(t){t.preventDefault();var e=$(this).serialize(),a=$(this).attr("data-url");console.log(a),$.post({url:a,data:e}).done(function(t){var e=$(t).find(".container div:first-child").html();if(console.log(e),null==e){location.reload();var a=$("#username").val();console.log(a)}"Invalid credentials."==e&&$("#ajax_error").html("Vos identifiants de connexion sont incorrects")})}),$("#register_form").submit(function(t){t.preventDefault();var e=$(this).serialize();console.log(e);var a=$(this).attr("data-url");$.post({url:a,data:e}).done(function(t){console.log(t),"This value is already used."==$(t).find(".container form ul li").html()&&$("#alreadyTaken").html("Ce nom d'utilisateur est déjà pris"),0==t.status&&($("#success").html(""),$("#errorUsername").html(t.username),$("#emailNotValid").html(t.emailNotValid),$("#passwordNotValid").html(t.passwordNotValid)),1==t.status&&($("#success").html(t.response),$("#alreadyTaken").html(""),$("#errorUsername").html(""),$("#emailNotValid").html(""),$("#passwordNotValid").html(""))})}),$('a[href="#section4"]').click(function(){var t=$(this).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top},"slow"),!1}),$("#mix-wrapper").mixItUp({load:{sort:"letter:asc"},animation:{effects:"fade",duration:700},selectors:{target:".mix-target",filter:".filter-btn",sort:".sort-btn"},callbacks:{onMixEnd:function(t){console.log(t)}}});var o={0:"Janvier",1:"Fevrier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",7:"Août",8:"Septembre",9:"Octobre",10:"Novembre",11:"Decembre"};a.prototype.wd=function(t){return 0==t?7:t},a.prototype.buildDOM=function(){html="<div class='clear "+this.elementTag+"'>\n<div class='view'>\n<div class='head'>\n<div class='title'><span class='m'></span> <span class='y'></span></div>\n</div>\n",html+="<div class='row th'>\n<div class='C'>M</div>\n<div class='C'>T</div>\n<div class='C'>W</div>\n<div class='C'>T</div>\n<div class='C'>F</div>\n<div class='C'>S</div>\n<div class='C'>S</div>\n</div>\n<div class='"+this.markup.dayArea+"'>\n",html+="</div>\n\n<div class='row nav'>\n\n<i class='btn prev prev-year fa fa-fast-backward'></i>\n<i class='btn prev prev-month fa fa-play fa-flip-horizontal'></i>\n<i class='btn next next-month fa fa-play'></i>\n<i class='btn next next-year fa fa-fast-forward'></i>\n</div>\n</div>\n</div>\n",$(html).insertAfter(this.targetInput),$(this.targetInput).css("cursor","pointer"),this.hide(0)},a.prototype.constructDayArea=function(t){for(newViewContent="",wd=this.wd(this.date.browse.getUTCDay()),d=this.date.browse.getUTCDate(),m=this.date.browse.getUTCMonth(),y=this.date.browse.getUTCFullYear(),monthBgnDate=new Date(y,m,1),monthBgn=monthBgnDate.getTime(),monthEndDate=new Date(this.getMonthNext().getTime()-864e5),monthEnd=monthEndDate.getTime(),monthBgnWd=this.wd(monthBgnDate.getUTCDay()),itrBgn=monthBgnDate.getTime()-1e3*(monthBgnWd-1)*60*60*24,i=1,n=0,dayItr=itrBgn,newViewContent+="<div class='"+this.markup.row+"'>\n";n<42;)cls=new Array("C",this.markup.cell),dayItr<=monthBgn?cls.push(this.markup.inactive,"jump-to-previous-month"):dayItr>=monthEnd+1296e5?cls.push(this.markup.inactive,"jump-to-next-month"):cls.push(this.markup.currentMonth),dayItr==this.date.slctd.getTime()+864e5&&cls.push(this.markup.slctd),dayItr==this.date.today.getTime()+864e5&&cls.push(this.markup.today),date=new Date(dayItr),newViewContent+="<div class='"+cls.join(" ")+"'>"+date.getUTCDate()+"</div>\n",i+=1,i>7&&(i=1,newViewContent+="</div>\n<div class='"+this.markup.row+"'>\n"),n+=1,dayItr+=864e5;return newViewContent+="</div>\n",this.changePage(newViewContent,t),$("."+this.elementTag+" .title .m").html(o[m]),$("."+this.elementTag+" .title .y").html(y),newViewContent},a.prototype.changePage=function(t,e){multiplier=-1,mark="-",e&&(multiplier=1,mark="+"),oldPage=$("."+this.elementTag+" ."+this.markup.dayArea+" .mArea"),newPage=$("<div class='mArea'></div>").css("left",-1*multiplier*224+"px").html(t),$("."+this.elementTag+" ."+this.markup.dayArea).append(newPage),$(".mArea").stop(1,1).animate({left:mark+"=224px"},300,function(){oldPage.remove()})},a.prototype.selectDate=function(t,e,a){return this.date.slctd=new Date(a,e,t),this.updateInput(a,e,t),this.constructDayArea(!1),this.date.slctd},a.prototype.updateInput=function(t,e,a){e=""==e?"":o[e],$(this.targetInput).val(t+" "+e+" "+a)},a.prototype.getMonthNext=function(){return m=this.date.browse.getUTCMonth(),y=this.date.browse.getUTCFullYear(),m+1>11?new Date(y+1,0):new Date(y,m+1)},a.prototype.getMonthPrev=function(){return m=this.date.browse.getUTCMonth(),y=this.date.browse.getUTCFullYear(),m-1<0?new Date(y-1,11):new Date(y,m-1)},a.prototype.setMonthNext=function(){m=this.date.browse.getUTCMonth(),y=this.date.browse.getUTCFullYear(),m+1>11?(this.date.browse.setUTCFullYear(y+1),this.date.browse.setUTCMonth(0)):this.date.browse.setUTCMonth(m+1),this.constructDayArea(!1)},a.prototype.setMonthPrev=function(){m=this.date.browse.getUTCMonth(),y=this.date.browse.getUTCFullYear(),m-1<0?(this.date.browse.setUTCFullYear(y-1),this.date.browse.setUTCMonth(11)):this.date.browse.setUTCMonth(m-1),this.constructDayArea(!0)},a.prototype.setYearNext=function(){y=this.date.browse.getUTCFullYear(),this.date.browse.setUTCFullYear(y+1),this.constructDayArea(!1)},a.prototype.setYearPrev=function(){y=this.date.browse.getUTCFullYear(),this.date.browse.setUTCFullYear(y-1),this.constructDayArea(!0)},a.prototype.hide=function(t){$("."+this.elementTag+" .view").slideUp(t)},a.prototype.show=function(e){t=this,t.init=!0,$("."+this.elementTag+" .view").slideDown(e,function(){t.init=!1})};new a});